<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>LinkedIn AI Apply</title>
<script src="../lib/jspdf.umd.min.js"></script>
<style>
  body { background:#000000; color:#e6e6e6; font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; padding:16px; margin:0; }
  h3 { display:flex; justify-content:space-between; align-items:center; margin-top:0; font-size: 16px; border-bottom: 1px solid #333; padding-bottom: 10px; }
  
  /* Inputs */
  input, select, textarea, button { width:100%; box-sizing:border-box; margin-bottom:12px; padding:10px; border-radius:6px; border:1px solid #333; font-size:13px; }
  input, textarea, select { background:#1c1c1c; color:white; outline:none; }
  input:focus, textarea:focus { border-color: #0a66c2; }
  textarea { min-height:120px; resize:vertical; line-height: 1.4; font-family: monospace; white-space: pre-wrap; }
  
  /* Buttons */
  button { font-weight:600; cursor:pointer; transition: opacity 0.2s; border:none; }
  button:hover { opacity:0.9; }
  .btn-primary { background:#0a66c2; color:white; }
  .btn-secondary { background:#333; color:white; }
  .btn-success { background:#057642; color:white; margin-bottom: 15px; }
  .btn-outline { background:transparent; border: 1px solid #555; color: #aaa; padding: 5px; font-size: 11px; margin-top: -5px;}

  /* Utils */
  .hidden { display:none; }
  .status { font-size:12px; color:#7dd3fc; margin-bottom: 10px; }
  .label { font-size: 11px; color: #888; margin-bottom: 4px; display: block; text-transform: uppercase; letter-spacing: 0.5px; }
  .divider { height: 1px; background: #333; margin: 20px 0; }
  
  /* Tabs/Sections */
  .section-box { border-bottom: 1px solid #333; margin-bottom: 15px; padding-bottom: 10px; }
</style>
</head>

<body>

<div id="applyView">
  <h3>
    <span>AI Apply Assistant</span>
    <span id="openSettings" style="cursor:pointer;">‚öôÔ∏è</span>
  </h3>

  <label class="label">Recruiter Email</label>
  <input id="recruiterEmail" placeholder="e.g. recruiter@company.com" />

  <div style="display: flex; gap: 10px;">
    <button id="genEmail" class="btn-primary">Generate Email</button>
    <button id="genCover" class="btn-secondary">Generate Cover Letter</button>
  </div>

  <div class="section-box">
    <label class="label">üìß Email Body</label>
    <textarea id="emailOutput" placeholder="Email text goes here..."></textarea>
  </div>

  <div class="section-box">
    <label class="label">üìù Cover Letter</label>
    <textarea id="coverOutput" placeholder="Cover letter text goes here..."></textarea>
    <div style="display:flex; justify-content:space-between;">
        <button id="downloadPdf" class="btn-outline">‚¨áÔ∏è Download PDF</button>
        <button id="copyCover" class="btn-outline">üìã Copy Text</button>
    </div>
  </div>

  <label class="label">Final Action</label>
  <button id="directSend" class="btn-success">üöÄ Send All (Email + Resume + Cover PDF)</button>
  <div id="sendStatus" class="status"></div>

</div>

<div id="settingsView" class="hidden">
  <h3><span id="backBtn" style="cursor:pointer;">‚Üê Back</span> Settings</h3>

  <label class="label">Gemini API Key</label>
  <input id="apiKey" type="password" placeholder="Paste API Key here" />
  <button id="saveKey" class="btn-primary">Save API Key</button>
  <div id="keyStatus" class="status"></div>

  <div class="divider"></div>

  <label class="label">Full Name</label>
  <input id="userName" placeholder="e.g. Srajal Nikhra" />
  <label class="label">Your Email</label>
  <input id="userEmail" placeholder="e.g. srajalnikhra@gmail.com" />
  <label class="label">Phone Number</label>
  <input id="userPhone" placeholder="e.g. +91-9555178092" />
  <label class="label">LinkedIn URL</label>
  <input id="userLinkedIn" placeholder="LinkedIn URL" />
  <label class="label">GitHub URL</label>
  <input id="userGithub" placeholder="GitHub URL" />
  
  <button id="saveProfile" class="btn-secondary">Save Profile</button>
  <div id="profileStatus" class="status"></div>

  <div class="divider"></div>

  <label class="label">Upload Resume (PDF)</label>
  <input type="file" id="resumeFile" accept=".pdf" />
  <button id="uploadResume" class="btn-secondary">Process & Save Resume</button>
  <div id="resumeStatus" class="status"></div>
</div>

<script type="module" src="panel.js"></script>
</body>
</html>